<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fit generalized linear models (glm) with disk.frame — dfglm • disk.frame</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fit generalized linear models (glm) with disk.frame — dfglm" />
<meta property="og:description" content="Fits GLMs using `speedglm` or `biglm`. The return object will be exactly as
those return by those functions. This is a convenience wrapper" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">disk.frame</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01-intro.html">Preface - The birth of `disk.frame`</a>
    </li>
    <li>
      <a href="../articles/02-intro-disk-frame.html">Quick Start: Basic Operations with nycflights13</a>
    </li>
    <li>
      <a href="../articles/03-concepts.html">Key `{disk.frame}` concepts</a>
    </li>
    <li>
      <a href="../articles/04-ingesting-data.html">Ingesting Data</a>
    </li>
    <li>
      <a href="../articles/05-data-table-syntax.html">Using data.table syntax with disk.frame</a>
    </li>
    <li>
      <a href="../articles/06-vs-dask-juliadb.html">Benchmarks 1: disk.frame beats Dask! disk.frame beats JuliaDB! Anyone else wanna challenge?</a>
    </li>
    <li>
      <a href="../articles/07-glm.html">Generalized Linear Models (GLM) including logistic regression with disk.frame</a>
    </li>
    <li>
      <a href="../articles/08-more-epic.html">{disk.frame} can be more 'epic'</a>
    </li>
    <li>
      <a href="../articles/09-convenience-features.html">Convenience features</a>
    </li>
    <li>
      <a href="../articles/10-group-by.html">Group-by</a>
    </li>
    <li>
      <a href="../articles/11-custom-group-by.html">Custom One-Stage Group-by functions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit generalized linear models (glm) with disk.frame</h1>
    
    <div class="hidden name"><code>dfglm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fits GLMs using `speedglm` or `biglm`. The return object will be exactly as
those return by those functions. This is a convenience wrapper</p>
    </div>

    <pre class="usage"><span class='fu'>dfglm</span>(<span class='no'>formula</span>, <span class='no'>data</span>, <span class='no'>...</span>, <span class='kw'>glm_backend</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"biglm"</span>, <span class='st'>"speedglm"</span>, <span class='st'>"biglmm"</span>))</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formula</th>
      <td><p>A model formula</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>See Details below. Method dispatch is on this argument</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments</p></td>
    </tr>
    <tr>
      <th>glm_backend</th>
      <td><p>Which package to use for fitting GLMs. The default is
"biglm", which has known issues with factor level if different levels are
present in different chunks. The "speedglm" option is more robust, but does not
implement `predict` which makes prediction and implementation impossible.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>bigglm</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>data</code> argument may be a function, a data frame, or a
  <code>SQLiteConnection</code> or <code>RODBC</code> connection object.</p>
<p>When it is a function the function must take a single argument
  <code>reset</code>. When this argument is <code>FALSE</code> it returns a data
  frame with the next chunk of data or <code>NULL</code> if no more data are
  available. When<code>reset=TRUE</code> it indicates that the data should be
  reread from the  beginning by subsequent calls. The chunks need not be
  the same size or in the same order when the data are reread, but the
  same data must be provided in total.  The <code>bigglm.data.frame</code>
  method gives an example of how such a function might be written,
  another is in the Examples below.</p>
<p>The model formula must not contain any data-dependent terms, as these
  will not be consistent when updated.  Factors are permitted, but the
  levels of the factor must be the same across all data chunks (empty
  factor levels are ok).  Offsets are allowed (since version 0.8).</p>
<p>The <code>SQLiteConnection</code> and <code>RODBC</code> methods loads only the
  variables needed for the model, not the whole table. The code in the
  <code>SQLiteConnection</code> method should work for other <code>DBI</code>
  connections, but I do not have any of these to check it with.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Algorithm AS274  Applied Statistics (1992) Vol.41, 
No. 2</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Machine Learning (ML): 
<code><a href='make_glm_streaming_fn.html'>make_glm_streaming_fn</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>cars.df</span> <span class='kw'>=</span> <span class='fu'><a href='as.disk.frame.html'>as.disk.frame</a></span>(<span class='no'>cars</span>)
<span class='no'>m</span> <span class='kw'>=</span> <span class='fu'>dfglm</span>(<span class='no'>dist</span> ~ <span class='no'>speed</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>cars.df</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required namespace: biglm</span></div><div class='input'>
<span class='co'># can use normal R functions</span>
<span class='co'># Only works in version &gt; R 3.6</span>
<span class='no'>majorv</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/integer.html'>as.integer</a></span>(<span class='no'>version</span>$<span class='no'>major</span>)
<span class='no'>minorv</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/integer.html'>as.integer</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/strsplit.html'>strsplit</a></span>(<span class='no'>version</span>$<span class='no'>minor</span>, <span class='st'>"."</span>, <span class='kw'>fixed</span><span class='kw'>=</span><span class='fl'>TRUE</span>)<span class='kw'>[[</span><span class='fl'>1</span>]][<span class='fl'>1</span>])
<span class='kw'>if</span>(((<span class='no'>majorv</span> <span class='kw'>==</span> <span class='fl'>3</span>) <span class='kw'>&amp;</span> (<span class='no'>minorv</span> <span class='kw'>&gt;=</span> <span class='fl'>6</span>)) <span class='kw'>|</span> (<span class='no'>majorv</span> <span class='kw'>&gt;</span> <span class='fl'>3</span>)) {
  <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>m</span>)
  <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>m</span>, <span class='fu'><a href='get_chunk.html'>get_chunk</a></span>(<span class='no'>cars.df</span>, <span class='fl'>1</span>))
  <span class='fu'><a href='https://rdrr.io/r/stats/predict.html'>predict</a></span>(<span class='no'>m</span>, <span class='fu'>collect</span>(<span class='no'>cars.df</span>))
  <span class='co'># can use broom to tidy up the returned info</span>
  <span class='kw pkg'>broom</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/pkg/broom/man/reexports.html'>tidy</a></span>(<span class='no'>m</span>)
}</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 2 x 4</span><span>
#&gt;   term        estimate std.error  p.value
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> (Intercept)   -</span><span style='color: #BB0000;'>17.6</span><span>      6.76  9.29</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>- 3</span><span>
#&gt; </span><span style='color: #BCBCBC;'>2</span><span> speed           3.93     0.416 2.96</span><span style='color: #949494;'>e</span><span style='color: #BB0000;'>-21</span><span></div><div class='input'>
<span class='co'># clean up</span>
<span class='fu'><a href='delete.html'>delete</a></span>(<span class='no'>cars.df</span>)</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Dai ZJ.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


